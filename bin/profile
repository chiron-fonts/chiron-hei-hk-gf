PADDINGS=(0 10)
WEIGHTS=(0 390 1000)
INT_WEIGHT=390

INSTANCE_WEIGHTS=(0 160 320 390 560 670 780 1000)
INSTANCE_PADDINGS=(0 6)
INSTANCE_BOLD_WEIGHT=780

declare -A PADDING_NAMES
PADDING_NAMES["0"]=
PADDING_NAMES["6"]=Text-

declare -A INSTANCE_NAMES
INSTANCE_FILENAMES["0"]=EL
INSTANCE_FILENAMES["160"]=L
INSTANCE_FILENAMES["320"]=N
INSTANCE_FILENAMES["390"]=R
INSTANCE_FILENAMES["560"]=M
INSTANCE_FILENAMES["670"]=SB
INSTANCE_FILENAMES["780"]=B
INSTANCE_FILENAMES["1000"]=H

build_vf_ufo() {
  STYLE=$1
  FILENAME=$2
  PADDING=$3
  WEIGHT=$4
  MASTER_FILENAME=${FILENAME}-padding${PADDING}_weight${WEIGHT}-Master
  DIR=$5
  DEST="$DIR/${MASTER_FILENAME}.ufo"

  if [ -d "$DEST" ]; then
    echo "[PADDING=${PADDING};WEIGHT=${WEIGHT}] UFOs for TTF build already exist: $DEST"
    return
  fi

  SRC="$DIR/${MASTER_FILENAME}.otf"
  if [ ! -f "$SRC" ]; then
    echo "[PADDING=${PADDING};WEIGHT=${WEIGHT}] Error: $SRC does not exist."
    exit 255
  fi

  CMD="tx -ufo $SRC $DEST"
  echo "[PADDING=${PADDING};WEIGHT=${WEIGHT}] Generating UFOs for TTF build: $CMD"
  $CMD
}
